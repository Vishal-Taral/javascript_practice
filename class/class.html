<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Basic</title>
</head>

<body>
    <h1>Class</h1>

    <script>
        class user {

        }
        console.log(typeof user);  // function // The typeof calss is function

        /***************************/

        // class Animal {

        //     constructor(name) {
        //         this.speed = 0;
        //         this.name = name;
        //     }

        //     // ...
        // }

        // class Rabbit extends Animal {

        //     constructor(name, earLength) {
        //         super(name);
        //         this.earLength = earLength;
        //     }

        //     // ...
        // }

        // // now fine
        // let rabbit = new Rabbit("White Rabbit", 10);
        // console.log(rabbit.name); // White Rabbit
        // console.log(rabbit.earLength); // 10

        /******************************/

        class User1 {
            static staticMethod() {
                console.log(this === User1);
            }
        }
        User1.staticMethod();  // true

        // we can also do like this

        class user2 { }

        user2.staticMethod = function () {
            console.log(this != user2);
        }
        user2.staticMethod();  //false

        /******************************/

        class Animal {
            static planet = "Earth";
            constructor(name, speed) {
                this.speed = speed;
                this.name = name;
            }

            run(speed = 0) {
                this.speed += speed;
                console.log(`${this.name} runs with speed ${this.speed}.`);
            }

            static compare(animalA, animalB) {
                return animalA.speed - animalB.speed;
            }
        }

        // Inherit from Animal
        class Rabbit extends Animal {
            hide() {
                console.log(`${this.name} hides!`);
            }
        }

        let rabbits = [
            new Rabbit("White Rabbit", 10),
            new Rabbit("Black Rabbit", 5)
        ];

        rabbits.sort(Rabbit.compare);
        rabbits[0].run(); // Black Rabbit runs with speed 5.
        console.log(Rabbit.planet); // Earth

        /***********   Protected  ******************/

        class CoffeeMachine {
            _waterAmount = 0;

            set waterAmount(value) {
                if (value < 0) {
                    value = 0;
                }
                this._waterAmount = value;
            }

            get waterAmount() {
                return this._waterAmount;
            }

            constructor(power) {
                this._power = power;
            }

        }

        // create the coffee machine
        let coffeeMachine = new CoffeeMachine(100);

        // add water
        coffeeMachine.waterAmount = -10;
        
    </script>
</body>

</html>